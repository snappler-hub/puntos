<div class="row">
<div class="col-md-6">
<article class="box box-primary">
<section class="box-body">

<%= form_for [@supplier, @supplier_request] do |f| %>
  <% @supplier_request.errors.full_messages.each do |message| %>
    <p><%= message %></p>
  <% end %>

  <div class="row">
    <div class="col-md-6">
      <fieldset class="form-group">
        <%= f.label :last_name %>
        <%= f.text_field :last_name, class: 'form-control', required: true %>
      </fieldset>
    </div>
    
    <div class="col-md-6">
      <fieldset class="form-group">
        <%= f.label :first_name %>
        <%= f.text_field :first_name, class: 'form-control', required: true %>
      </fieldset>
    </div>
  </div>

  <div class="row">
    <div class="col-md-6">
      <fieldset class="form-group">
        <%= f.label :document_number %>
        <div class="row">
          <div class="col-md-4"> 
            <%= f.select :document_type,
                User::DOCUMENT_TYPES.map{|type| [t("document_types.#{type}"), type]},
                {}, {class: 'form-control', include_blank: true} %>
          </div>
          <div class="col-md-8"> 
            <%= f.text_field :document_number, class: 'form-control', required: true %> 
          </div>
        </div>
      </fieldset>
    </div>
    
    <div class="col-md-6">
      <fieldset class="form-group">
        <%= f.label :phone %>
        <%= f.text_field :phone, class: 'form-control' %>
      </fieldset>
    </div>
  </div>
  
  <div class="row">
    <div class="col-md-6">
      <fieldset class="form-group">
        <%= f.label :email %>
        <%= f.email_field :email, class: 'form-control' %>
      </fieldset>
    </div>
    
    <div class="col-md-6">
      <fieldset class="form-group">
        <%= f.label :address %>
        <%= f.text_field :address, class: 'form-control' %>
      </fieldset>
    </div>
  </div>
  
  <div class="row">
    <% if god? && !@supplier %>
      <div class="col-md-6">
        <fieldset class="form-group">
          <%= f.label :supplier_id %>
          <%= f.collection_select :supplier_id, Supplier.all,
              :id, :name, {}, {class: 'form-control', include_blank: false} %>
        </fieldset>
      </div>
      
      <div class="col-md-6">
        <fieldset class="form-group">
          <%= f.label :status %>
          <%= f.select :status, SupplierRequest.statuses.keys.map { |s| [I18n.t("supplier_request.status.#{s}"),s] },
            {include_blank: false}, {class: 'form-control'} %>
        </fieldset>
      </div>      
    <% end %>
  </div>
  
  <div class="row">
    <div class="col-md-12">
      <fieldset class="form-group">
        <%= f.label :notes %>
        <%= f.text_area :notes, class: 'form-control' %>
      </fieldset>
    </div>
  </div>

  <div class="actions">
    <%= f.submit 'Guardar Solicitud', class: 'btn btn-primary', 'data-disable-with' => 'Cargando...'  %>
  </div>
<% end %>

</section>
</article>
</div>
</div>